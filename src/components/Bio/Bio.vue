<template>
  <section id="Bio">
    <br>
    <div class="container">

      <div class="c1">
        <img src='./../../assets/images/bio/peSoft.webp' />
      </div>

      <div class="c2">
        Hola! Soy Andres Ramirez, un <span id="typed-wrapper"><span id="typed"></span></span> de 20 a√±os, vivo en
        Medell√≠n, Colombia.<br>
        Creo en el poder transformador de la tecnolog√≠a para hacer del mundo un lugar mejor.<br>
        Mi pasi√≥n por la innovaci√≥n y el desarrollo de software me impulsa a buscar constantemente nuevas formas de
        crear soluciones impactantes.
        Mi objetivo es inspirar a otros a perseguir sus sue√±os y contribuir positivamente a la comunidad
        tecnol√≥gica, mientras sigo aprendiendo y creciendo en este emocionante viaje. <br> </br>

        <div class="img_Bio">
          <a target="_blank" href="https://www.linkedin.com/in/andres-ramirez-4a677023b/">
            <img src="../../assets/images/bio/LinKedin.webp" title="Linkedin" class="img_Bio">
          </a>
          <a target="_blank" href="https://github.com/Kirbysnake1">
            <img src="../../assets/images/bio/gitHub.webp" title="gitHub" class="img_Bio" />
          </a>
          <a target="_blank" href="https://www.instagram.com/andres16fell/">
            <img src="../../assets/images/bio/IG.webp" title="Instagram" class="img_Bio">
          </a>
        </div>
      </div>
    </div>
  </section>

</template>

<script setup>
import './Bio.css'

import { onMounted } from 'vue'

onMounted(() => {

  // üîç Depuraci√≥n: muestra en consola las referencias de los elementos HTML
  console.log('typed:', document.getElementById('typed'));
  console.log('wrapper:', document.getElementById('typed-wrapper'));

  // üìå Referencia al span donde se escribir√° el texto din√°mico
  const el = document.getElementById('typed')

  // ‚ö° Aplica estilo solo a este span para que el texto no haga salto de l√≠nea
  el.style.whiteSpace = 'nowrap'

  // üìÇ Palabras que se van a escribir con el efecto typewriter
  const words = ["Trainer Frontend", "Jr QA automatizador"]

  // üî¢ Variables de control para la animaci√≥n
  let i = 0              // √≠ndice actual en el array de palabras
  let j = 0              // posici√≥n actual dentro de la palabra
  let currentWord = ''   // palabra parcial que se va construyendo
  let isDeleting = false // bandera para alternar entre escribir y borrar
  let speed = 30        // velocidad din√°mica de escritura/borrado

  /**
   * üñäÔ∏è Funci√≥n principal del efecto typewriter
   * - Escribe car√°cter por car√°cter de cada palabra
   * - Luego borra car√°cter por car√°cter
   * - Alterna entre palabras en bucle infinito
   */
  function type() {
    if (i >= words.length) i = 0        // Reinicia √≠ndice si llega al final
    const fullWord = words[i]           // Palabra completa actual

    if (!isDeleting) {
      // ‚ûï Modo escritura: agrega un car√°cter m√°s
      currentWord = fullWord.slice(0, j + 1)
      j++
      el.textContent = currentWord

      if (currentWord === fullWord) {
        // ‚úÖ Palabra completa alcanzada ‚Üí activar borrado
        isDeleting = true
        speed = 1000 // breve pausa antes de borrar
      } else {
        speed = 60 // velocidad normal al escribir
      }
    } else {
      // ‚ûñ Modo borrado: elimina un car√°cter
      currentWord = fullWord.slice(0, j - 1)
      j--
      el.textContent = currentWord

      if (currentWord === '') {
        // üöÄ Palabra completamente borrada ‚Üí pasar a la siguiente
        isDeleting = false
        i++
        speed = 500 // pausa m√°s larga antes de empezar la siguiente
      } else {
        speed = 100 // velocidad m√°s r√°pida al borrar
      }
    }

    // ‚è±Ô∏è Llamada recursiva controlada por velocidad
    setTimeout(type, speed)
  }

  // ‚ñ∂Ô∏è Inicializa el efecto typewriter
  type()

  // üé® Ajustes de estilo para el contenedor del texto animado
  const wrapper = document.getElementById('typed-wrapper')
  wrapper.style.display = 'inline-block'  // mantiene alineaci√≥n con el texto base
  wrapper.style.whiteSpace = 'nowrap'     // evita saltos de l√≠nea dentro del wrapper
})

</script>